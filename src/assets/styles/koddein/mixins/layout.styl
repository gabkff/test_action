/**
 * Layout & Container System
 */

/**
 * Container mixin
 * Applique une largeur maximale avec marges automatiques
 * 
 * @param $type - 'default' | 'pagebuilder'
 */
container($type = default)
  $fullwidth = 100%
  margin-left auto
  margin-right auto

  // Mobile layout
  +layout(mobile)
    width calc($fullwidth - (2 * $gutter-tablet))
    +mobile()
      width calc($fullwidth - (2 * $gutter-mobile))

  if $type is default
    $responsive_gutter = 'calc( %s * var(--ratio-between, 1))' % (2 * $gutter)
    $responsive_gutter_d = 'calc( %s * var(--ratio-desktop))' % (2 * $gutter)
    $responsive_gutter_m = 'calc( %s * var(--ratio-mobile))' % (2 * $gutter)
    width calc($fullwidth - $responsive_gutter)
    +layout($desktop)
      width calc($fullwidth - $responsive_gutter_d)
    +below($mobile)
      width calc($fullwidth - $responsive_gutter_m)

  // Custom grid for pagebuilder
  if $type is 'pagebuilder'
    $responsive_gutter = 'calc( %s * var(--ratio-between, 1))' % (2 * 2 * $gutter)
    $responsive_gutter_d = 'calc( %s * var(--ratio-desktop))' % (2 * 2 * $gutter)
    $responsive_gutter_m = 'calc( %s * var(--ratio-mobile))' % (2 * 2 * $gutter)
    width calc($fullwidth - $responsive_gutter)
    +above($desktop)
      width calc($fullwidth - $responsive_gutter_d)
    +below($mobile)
      width calc($fullwidth - $responsive_gutter_m)
    max-width 1100px

/**
 * Absolute positioning helper
 */
absolute($top = null, $right = null, $bottom = null, $left = null)
  position absolute
  if $top != null
    top $top
  if $right != null
    right $right
  if $bottom != null
    bottom $bottom
  if $left != null
    left $left

/**
 * Size helper
 */
size($width, $height = $width)
  width $width
  height $height

